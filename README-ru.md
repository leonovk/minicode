# Minicode

## Установка

Бинарник миникода можно найти практически под все существующие платформы. Однако в данном разделе установка будет описана только под MacOS и Linux.

### MacOS / Linux

Скачайте последний релиз который соответствует вашей платформе со страницы - [релизов](https://github.com/leonovk/minicode/releases) затем разархивируйте скаченный архив.

```bash
tar -xzvf minicode-aarch64-apple-darwin.tar
```

- Переместите `minicode` в папку `/usr/local/bin` если у вас **mac**
- Переместите `minicode` в папку `/usr/bin` если у вас **linux**

```bash
sudo mv minicode /usr/bin
```

> для перемещения могут понадобится права суперпользователя

Что бы проверить, что установка прошла успешно, вы можете воспользоваться следующей командой:

```bash
minicode --version
```

Также есть команда `--help` которая выведет на экран доступные опции.

### Обновления

Обновить версию миникода давольно просто, нужно просто ввести команду `--update`.

> для обновления могут понадобится права суперпользователя

```bash
minicode --update
```

Миникод сам скачает последний доступный релиз и установит его.

## Руководство по языку

Миникод выполняет код построчно, предварительно компилируя его в некий набор команд. Что делает его классическим интерпретируемым языком программирования. Каждая строка кода в миникоде начинается с команды, затем идет выражение. На данный момент в миникоде есть 6 команд и 2 типа данных, целые числа и строки. Миникод является тьюринг полным языком и в теории позволяет реализовать любую функцию.

| команда | описание |
|----------|----------|
| >    | Создание новой переменной  |
| p    | Вывести на экран содержимое переменной   |
| f    | Чтение из файла и запись его содержимого в переменную  |
| $>   | Запросить значение у пользователя |
| =    | Начало арифметической операции |
| ?    | Начало условия |

Каждая строка начинается с одной из эти команд и отделяется от выражений пробелом.

### Создание переменных

После символа операции создания переменной всегда идет ее имя. Объявлять тип переменной при создании не требуется. Миникод сам обозначит тип. Также если не передать никакое значение, то значение переменной будет равно пустой строке - "".

Тут в переменной a будет лежать пустая строка.

```mc
> a
```

Тут в переменной a будет лежать число 324.

```mc
> a 324
```

Если передать в качестве второго аргумента строку, то миникод попытается найти ранее обозначенную переменну с таким именем, и если он ее найдет, то скопирует ее значение в новую переменную.

Тут в переменной b будет лежать число 324.

```mc
> a 324
> b a
```

Можно также передавать сразу много значений и в зависимости от ранее созданных переменных будет тот или иной результат.

Например если мы хотим скопировать в новую переменную не всю строку, а только конкретный символ из конкретной строки в другой переменной, мы можем сделать так:

Тут в переменной b будет лежать строка - "e"

```mc
> a hello
> b a 1
```

В качестве индекса в таких случаях также может выступать значение других переменных. Если по адресу переменной 'a' ничего не будет найдено, то будет просто создана новая строка - "a 1".

### Вывод значений в консоль

Вывод значений в консоль работает очень просто.

Команда `p` принимает только 1 единсвенный аргумент и выводит его значение на экран

```mc
p a
```

### Чтение из файла

Используя команду `f` можно прочитать содержимое любого файла и записать его в переменную.

Все содержимое файла будет помещенно в переменную 'a' как обычная строка.

```mc
f a test/test_file.txt
```

### Запрос значение у пользователя

Используя команду `$>` можно запрашивать значения у пользователей. Значение также будет перемещено в переменную, в соответствии с ее типом. Тип миникод определит самостоятельно. Стоит отметить, что все значения запрашиваемые у пользователей таким образом, будут запрощены до выполнения кода. Затем код будет выполнятся обычным образом, где команда запроса будет преобразованна в команду создания обычной переменной, со значением, который указал пользователей.

```mc
$> a
```

Также вторым аргументом можно передать текст, который будет выведен на экран, в момент запроса значения.

```mc
$> a text
```

### Арифметические операции

Арифметические операции начинаются с команды `=` далее обязательно идет переменная которам будет изменена в хоже дальнейшей операции. Исходня переменная обязательно будет изменена.

Например так можно увеличить значение переменной 'a' на 12

```mc
= a + 12
```

Так же можно скадывать и переменные между собой.

В результате данной операции переменная 'a' будет увеличена на значение переменной 'b'

```mc
= a + b
```

Тоже самое работает с вычитанием, умножением и делением.

Пример программы которая выводит на экран слово 'hello' построчно:

```mc
> empty_line
> a hello
> i 0
> char a i
p char
= i + 1
? char ! empty_line 4
```

### Условия и циклы

Условия и циклы реализуются путем перевода интерпретатора на нужную строку. Соответственно если перевести интерпретатор назад, можно создать цикл, если вперед, условное ветвление.
В любом случае и то и то начинается с команды условия.

Команда условия принимает выражение, которое должно вернуть истинну и номер строки, на которой перейдет интерпретатор если условие истинно.

Данная операция переводит интерпретатор на 5 строчку если значение в переменной 'a' равно нулю.

```mc
? a = 0 5
```

Также есть операция "не равно":

```mc
? a ! 0 5
```

Сравнивать можно также и переменные между собой. Единсвенное условие переменные должны быть одного типа.

```mc
? a = b 5
```

Следующий код выведет на экран только 'just text'

```mc
> a lol
> b lol
? a = b 6
p a
p b
> c 245
> d 345
? c ! d 11
p c
p d
> text just text
p text
```
